# ğŸ”´ğŸŸ¢ğŸ”„ Claude TDD å¼€å‘æŒ‡å—

æœ¬æ–‡æ¡£å±•ç¤ºå¦‚ä½•åœ¨ Claude ç¯å¢ƒä¸­ä¸¥æ ¼éµå¾ª **æµ‹è¯•é©±åŠ¨å¼€å‘ (TDD)** åŸåˆ™ï¼ŒåŸºäº `tdd-expert` è§’è‰²å®šä¹‰çš„ä¸¥æ ¼è§„èŒƒã€‚

## ä»£ç æ³¨é‡Šå¿…é¡»ä½¿ç”¨ç®€ä½“ä¸­æ–‡(ä¸¥æ ¼éµå®ˆ)
## æµ‹è¯•ç”¨ä¾‹é‡Œå¿…é¡»ä½¿ç”¨ç®€ä½“ä¸­æ–‡(ä¸¥æ ¼éµå®ˆ)

## æ–‡æ¡£è§„èŒƒ
|-examples å­˜æ”¾æ‰€æœ‰çš„ç¤ºä¾‹ä»£ç 

## å·¥å…·é“¾
- åŒ…ç®¡ç†å·¥å…· pnpm
- æ„å»ºå·¥å…· tsup
- ä»»åŠ¡ç®¡ç†å·¥å…· turbo
- å•å…ƒæµ‹è¯•å·¥å…· jest
- ä»£ç æ£€æŸ¥å·¥å…· eslint
- ç±»å‹æ£€æŸ¥å·¥å…· typescript
- devå¼€å‘å·¥å…· tsx

## ğŸ¯ TDD æ ¸å¿ƒåŸåˆ™ (ä¸¥æ ¼éµå®ˆ)

### ğŸ”´ çº¢é˜¶æ®µï¼šç¼–å†™å¤±è´¥æµ‹è¯•
```typescript
// âŒ å¿…é¡»å…ˆå†™å¤±è´¥çš„æµ‹è¯•
describe('Calculator', () => {
  it('should add two numbers', () => {
    const calc = new Calculator(); // è¿™é‡Œä¼šå¤±è´¥ - æ­£ç¡®çš„ï¼
    expect(calc.add(2, 3)).toBe(5);
  });
});
```

### ğŸŸ¢ ç»¿é˜¶æ®µï¼šæœ€å°å®ç°
```typescript
// âœ… åªå†™åˆšå¥½è®©æµ‹è¯•é€šè¿‡çš„ä»£ç 
export class Calculator {
  add(a: number, b: number): number {
    return a + b; // æœ€ç®€å®ç°
  }
}
```

### ğŸ”„ é‡æ„é˜¶æ®µï¼šä¼˜åŒ–ä»£ç 
```typescript
// âœ… åœ¨ç»¿ç¯çŠ¶æ€ä¸‹å®‰å…¨é‡æ„
export class Calculator {
  /**
   * ä¸¤æ•°ç›¸åŠ 
   * @param a ç¬¬ä¸€ä¸ªæ•°
   * @param b ç¬¬äºŒä¸ªæ•°
   * @returns å’Œ
   */
  add(a: number, b: number): number {
    return a + b;
  }
}
```

## ğŸš« TDD å¼ºåˆ¶è§„åˆ™ (ç»ä¸è¿å)

### âŒ ç¦æ­¢è¡Œä¸º
- **ç»å¯¹ä¸å…è®¸**åœ¨æ²¡æœ‰æµ‹è¯•çš„æƒ…å†µä¸‹ç¼–å†™ç”Ÿäº§ä»£ç 
- **ç»å¯¹ä¸å…è®¸**è·³è¿‡çº¢é˜¶æ®µç›´æ¥å†™å®ç°
- **ç»å¯¹ä¸å…è®¸**åœ¨çº¢ç¯çŠ¶æ€ä¸‹è¿›è¡Œé‡æ„
- **ç»å¯¹ä¸å…è®¸**åŒæ—¶å¤„ç†å¤šä¸ªå¤±è´¥æµ‹è¯•

### âœ… å¿…é¡»è¡Œä¸º
- **å¿…é¡»ç¡®è®¤**æµ‹è¯•åœ¨åŠŸèƒ½å®ç°å‰æ˜¯å¤±è´¥çš„
- **å¿…é¡»ç¼–å†™**åˆšå¥½è®©æµ‹è¯•é€šè¿‡çš„æœ€å°ä»£ç 
- **å¿…é¡»åœ¨**æ‰€æœ‰æµ‹è¯•é€šè¿‡çš„ç»¿ç¯çŠ¶æ€ä¸‹è¿›è¡Œé‡æ„
- **å¿…é¡»ä¿æŒ**æ¯ä¸ªæµ‹è¯•çš„ç‹¬ç«‹æ€§

## ğŸ› ï¸ Claude TDD å·¥ä½œæµç¨‹

### Step 1: éœ€æ±‚åˆ†æ â†’ æµ‹è¯•è®¾è®¡
```bash
# åœ¨ Claude ä¸­çš„å¯¹è¯æµç¨‹
ç”¨æˆ·: "æˆ‘éœ€è¦ä¸€ä¸ªè®¡ç®—å™¨åŠŸèƒ½"
Claude: "è®©æˆ‘ä»¬ä»æµ‹è¯•å¼€å§‹ã€‚é¦–å…ˆå†™ä¸€ä¸ªå¤±è´¥çš„æµ‹è¯•..."
```

### Step 2: ğŸ”´ çº¢é˜¶æ®µæ‰§è¡Œ
```typescript
// 1. å…ˆåˆ›å»ºæµ‹è¯•æ–‡ä»¶
// src/calculator.test.ts
import { Calculator } from './calculator'; // âŒ è¿™ä¼šå¤±è´¥

describe('Calculator', () => {
  it('should add two positive numbers', () => {
    const calculator = new Calculator();
    expect(calculator.add(2, 3)).toBe(5);
  });
});
```

```bash
# 2. è¿è¡Œæµ‹è¯•ç¡®è®¤å¤±è´¥
npm run test
# âŒ Cannot find module './calculator' - æ­£ç¡®çš„å¤±è´¥ï¼
```

### Step 3: ğŸŸ¢ ç»¿é˜¶æ®µæ‰§è¡Œ
```typescript
// 3. åˆ›å»ºæœ€å°å®ç°
// src/calculator.ts
export class Calculator {
  add(a: number, b: number): number {
    return a + b; // æœ€ç®€å®ç°
  }
}
```

```bash
# 4. è¿è¡Œæµ‹è¯•ç¡®è®¤é€šè¿‡
npm run test
# âœ… Tests: 1 passed, 1 total
```

### Step 4: ğŸ”„ é‡æ„é˜¶æ®µæ‰§è¡Œ
```typescript
// 5. åœ¨ç»¿ç¯çŠ¶æ€ä¸‹æ”¹è¿›ä»£ç è´¨é‡
export class Calculator {
  /**
   * æ·»åŠ ä¸¤ä¸ªæ•°å­—
   * @param a ç¬¬ä¸€ä¸ªæ•°å­—
   * @param b ç¬¬äºŒä¸ªæ•°å­—
   * @returns ä¸¤æ•°ä¹‹å’Œ
   */
  add(a: number, b: number): number {
    // å¯ä»¥æ·»åŠ è¾“å…¥éªŒè¯ç­‰
    if (typeof a !== 'number' || typeof b !== 'number') {
      throw new Error('Both arguments must be numbers');
    }
    return a + b;
  }
}
```

```bash
# 6. ç¡®ä¿é‡æ„åæµ‹è¯•ä»ç„¶é€šè¿‡
npm run test
# âœ… Tests: 1 passed, 1 total
```

## ğŸ“Š Claude TDD è´¨é‡æ£€æŸ¥æ¸…å•

### ğŸ”´ çº¢é˜¶æ®µæ£€æŸ¥æ¸…å•
- [ ] æµ‹è¯•ç”¨ä¾‹æ¸…æ™°è¡¨è¾¾äº†æœŸæœ›çš„è¡Œä¸º
- [ ] æµ‹è¯•å¤±è´¥çš„åŸå› æ˜¯åŠŸèƒ½æœªå®ç°ï¼Œè€Œéæµ‹è¯•é”™è¯¯
- [ ] æµ‹è¯•èŒƒå›´é€‚ä¸­ï¼ŒåªéªŒè¯ä¸€ä¸ªå…·ä½“åŠŸèƒ½ç‚¹
- [ ] æµ‹è¯•ç”¨ä¾‹åç§°å…·æœ‰è‰¯å¥½çš„å¯è¯»æ€§

### ğŸŸ¢ ç»¿é˜¶æ®µæ£€æŸ¥æ¸…å•
- [ ] æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡
- [ ] å®ç°ä»£ç å°½å¯èƒ½ç®€å•
- [ ] æ²¡æœ‰å®ç°å½“å‰æµ‹è¯•ä¸éœ€è¦çš„åŠŸèƒ½
- [ ] ä»£ç èƒ½å¤Ÿæ­£ç¡®å¤„ç†æµ‹è¯•ç”¨ä¾‹çš„æ‰€æœ‰åœºæ™¯

### ğŸ”„ é‡æ„é˜¶æ®µæ£€æŸ¥æ¸…å•
- [ ] æ¶ˆé™¤äº†ä»£ç é‡å¤
- [ ] æé«˜äº†ä»£ç å¯è¯»æ€§
- [ ] æ”¹å–„äº†ä»£ç ç»“æ„
- [ ] æ‰€æœ‰æµ‹è¯•ä»ç„¶é€šè¿‡
- [ ] æ²¡æœ‰æ”¹å˜å¤–éƒ¨è¡Œä¸º

## ğŸ“ Claude TDD æœ€ä½³å®è·µ

### 1. å¯¹è¯é©±åŠ¨çš„ TDD
```
ç”¨æˆ·: "æ·»åŠ å‡æ³•åŠŸèƒ½"
Claude: "è®©æˆ‘ä»¬éµå¾ª TDD æµç¨‹ï¼š
1. ğŸ”´ å…ˆå†™å‡æ³•çš„å¤±è´¥æµ‹è¯•
2. ğŸŸ¢ å®ç°æœ€å°çš„å‡æ³•åŠŸèƒ½
3. ğŸ”„ é‡æ„ä¼˜åŒ–ä»£ç "
```

### 2. å¢é‡å¼å¼€å‘
```typescript
// ç¬¬ä¸€ä¸ªæµ‹è¯•ï¼šåŸºæœ¬åŠŸèƒ½
it('should subtract two positive numbers', () => {
  expect(calc.subtract(5, 3)).toBe(2);
});

// ç¬¬äºŒä¸ªæµ‹è¯•ï¼šè¾¹ç•Œæƒ…å†µ
it('should handle negative results', () => {
  expect(calc.subtract(3, 5)).toBe(-2);
});

// ç¬¬ä¸‰ä¸ªæµ‹è¯•ï¼šé›¶å€¼å¤„ç†
it('should handle zero values', () => {
  expect(calc.subtract(5, 0)).toBe(5);
});
```

### 3. æµ‹è¯•å³æ–‡æ¡£
```typescript
describe('Calculator', () => {
  describe('add method', () => {
    it('should add two positive integers correctly', () => {
      // æµ‹è¯•åç§°å°±æ˜¯åŠŸèƒ½æ–‡æ¡£
    });

    it('should handle floating point numbers with precision', () => {
      // æ¸…æ™°è¡¨è¾¾é¢„æœŸè¡Œä¸º
    });
  });
});
```

## ğŸš€ Claude TDD å‘½ä»¤é€ŸæŸ¥

### å¿«é€Ÿå¯åŠ¨ TDD å¾ªç¯
```bash
# 1. åˆ›å»ºæµ‹è¯•æ–‡ä»¶
touch src/feature.test.ts

# 2. è¿è¡Œæµ‹è¯• (çº¢é˜¶æ®µ)
npm run test:watch

# 3. åˆ›å»ºå®ç°æ–‡ä»¶
touch src/feature.ts

# 4. è¿è¡Œæ„å»º (ç»¿é˜¶æ®µå)
npm run build

# 5. æŸ¥çœ‹è¦†ç›–ç‡
npm run test:coverage
```

### TDD å¼€å‘èŠ‚å¥
```bash
# ä¿æŒå¿«é€Ÿçš„çº¢-ç»¿-é‡æ„å¾ªç¯
ğŸ”´ å†™æµ‹è¯• â†’ âŒ è¿è¡Œæµ‹è¯• â†’ ğŸŸ¢ å†™ä»£ç  â†’ âœ… è¿è¡Œæµ‹è¯• â†’ ğŸ”„ é‡æ„ â†’ âœ… è¿è¡Œæµ‹è¯•
```

## ğŸ“ˆ æˆåŠŸçš„ TDD æŒ‡æ ‡

### ä»£ç è´¨é‡æŒ‡æ ‡
- âœ… **æµ‹è¯•è¦†ç›–ç‡**: 95%+ (å¼ºåˆ¶è¦æ±‚)
- âœ… **æµ‹è¯•æ‰§è¡Œæ—¶é—´**: < 2 ç§’ (å¿«é€Ÿåé¦ˆ)
- âœ… **æµ‹è¯•ç‹¬ç«‹æ€§**: 100% (æ— ä¾èµ–æµ‹è¯•)
- âœ… **ä»£ç é‡å¤åº¦**: æœ€å°åŒ–

### TDD æµç¨‹æŒ‡æ ‡
- âœ… **çº¢-ç»¿-é‡æ„å¾ªç¯**: ä¸¥æ ¼éµå¾ª
- âœ… **æµ‹è¯•å…ˆè¡Œç‡**: 100% (æ— ä¾‹å¤–)
- âœ… **æœ€å°å®ç°åŸåˆ™**: å§‹ç»ˆéµå®ˆ
- âœ… **é‡æ„å®‰å…¨æ€§**: æµ‹è¯•ä¿æŠ¤ä¸‹è¿›è¡Œ

## ğŸ¯ ä¸‹ä¸€æ­¥ TDD å¼€å‘

ç»§ç»­ä½¿ç”¨ Claude è¿›è¡Œ TDD å¼€å‘æ—¶ï¼š

1. **ğŸ”´ çº¢é˜¶æ®µ**: å‘Šè¯‰ Claude ä½ éœ€è¦ä»€ä¹ˆåŠŸèƒ½ï¼Œè®©å®ƒå…ˆå†™å¤±è´¥æµ‹è¯•
2. **ğŸŸ¢ ç»¿é˜¶æ®µ**: è®© Claude å®ç°æœ€å°ä»£ç ä½¿æµ‹è¯•é€šè¿‡
3. **ğŸ”„ é‡æ„é˜¶æ®µ**: ä¸ Claude ä¸€èµ·æ”¹è¿›ä»£ç è´¨é‡
4. **é‡å¤å¾ªç¯**: ä¸ºæ¯ä¸ªæ–°åŠŸèƒ½é‡å¤æ­¤è¿‡ç¨‹

**è®°ä½ï¼šåœ¨ Claude ç¯å¢ƒä¸­ï¼ŒTDD ä¸ä»…æ˜¯å¼€å‘æ–¹æ³•ï¼Œæ›´æ˜¯ç¡®ä¿ä»£ç è´¨é‡å’Œè®¾è®¡ä¼˜é›…çš„ä¸¥æ ¼çºªå¾‹ï¼** ğŸ‰

## ğŸ’¡ Claude TDD å®æˆ˜ç¤ºä¾‹

### ç¤ºä¾‹ï¼šæ·»åŠ ä¹˜æ³•åŠŸèƒ½

#### ğŸ”´ çº¢é˜¶æ®µï¼šç”¨æˆ·è¯·æ±‚
```
ç”¨æˆ·: "æˆ‘éœ€è¦æ·»åŠ ä¹˜æ³•åŠŸèƒ½"
Claude: "å¥½çš„ï¼Œè®©æˆ‘ä»¬ä¸¥æ ¼éµå¾ª TDD æµç¨‹ã€‚é¦–å…ˆå†™ä¸€ä¸ªå¤±è´¥çš„æµ‹è¯•ï¼š"
```

#### æµ‹è¯•ä»£ç  (å…ˆå†™)
```typescript
// src/calculator.test.ts
describe('Calculator', () => {
  // ... ç°æœ‰æµ‹è¯• ...

  describe('multiply', () => {
    it('should multiply two positive numbers correctly', () => {
      const calculator = new Calculator();
      expect(calculator.multiply(3, 4)).toBe(12); // âŒ è¿™ä¼šå¤±è´¥
    });
  });
});
```

#### ğŸŸ¢ ç»¿é˜¶æ®µï¼šæœ€å°å®ç°
```typescript
// src/calculator.ts
export class Calculator {
  add(a: number, b: number): number {
    return a + b;
  }

  multiply(a: number, b: number): number {
    return a * b; // æœ€ç®€å®ç°
  }
}
```

#### ğŸ”„ é‡æ„é˜¶æ®µï¼šä¼˜åŒ–ä»£ç 
```typescript
export class Calculator {
  /**
   * ä¸¤æ•°ç›¸åŠ 
   */
  add(a: number, b: number): number {
    return a + b;
  }

  /**
   * ä¸¤æ•°ç›¸ä¹˜
   * @param a è¢«ä¹˜æ•°
   * @param b ä¹˜æ•°
   * @returns ä¹˜ç§¯
   */
  multiply(a: number, b: number): number {
    return a * b;
  }
}
```

## ğŸ”§ Claude TDD æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

#### é—®é¢˜ 1: æµ‹è¯•æ²¡æœ‰å¤±è´¥
```typescript
// âŒ é”™è¯¯ï¼šæµ‹è¯•ä¸€å¼€å§‹å°±é€šè¿‡äº†
it('should return true', () => {
  expect(true).toBe(true); // è¿™ä¸æ˜¯æœ‰æ•ˆçš„ TDD æµ‹è¯•
});

// âœ… æ­£ç¡®ï¼šæµ‹è¯•åº”è¯¥éªŒè¯å…·ä½“åŠŸèƒ½
it('should validate email format', () => {
  const validator = new EmailValidator();
  expect(validator.isValid('test@example.com')).toBe(true); // ä¼šå¤±è´¥ï¼Œå› ä¸ºç±»ä¸å­˜åœ¨
});
```

#### é—®é¢˜ 2: å®ç°è¿‡åº¦å¤æ‚
```typescript
// âŒ é”™è¯¯ï¼šè¿‡åº¦å®ç°
multiply(a: number, b: number): number {
  // ä¸éœ€è¦çš„å¤æ‚é€»è¾‘
  if (a === 0 || b === 0) return 0;
  if (a === 1) return b;
  if (b === 1) return a;
  // ... æ›´å¤šä¸å¿…è¦çš„é€»è¾‘
  return a * b;
}

// âœ… æ­£ç¡®ï¼šæœ€å°å®ç°
multiply(a: number, b: number): number {
  return a * b; // ç®€å•ç›´æ¥
}
```

#### é—®é¢˜ 3: åœ¨çº¢ç¯çŠ¶æ€ä¸‹é‡æ„
```bash
# âŒ é”™è¯¯æµç¨‹
npm run test  # âŒ æµ‹è¯•å¤±è´¥
# å¼€å§‹é‡æ„ä»£ç  <- é”™è¯¯ï¼åº”è¯¥å…ˆè®©æµ‹è¯•é€šè¿‡

# âœ… æ­£ç¡®æµç¨‹
npm run test  # âŒ æµ‹è¯•å¤±è´¥
# å†™æœ€å°ä»£ç è®©æµ‹è¯•é€šè¿‡
npm run test  # âœ… æµ‹è¯•é€šè¿‡
# ç°åœ¨å¯ä»¥å®‰å…¨é‡æ„
```

## ğŸ“š Claude TDD å­¦ä¹ èµ„æº

### æ¨èé˜…è¯»é¡ºåº
1. é˜…è¯» `tdd-expert/tdd-expert.role.md` - ç†è§£ TDD æ ¸å¿ƒåŸåˆ™
2. æŸ¥çœ‹ `TDD_WORKFLOW_DEMO.md` - å­¦ä¹ å®Œæ•´å·¥ä½œæµç¨‹
3. å®è·µæœ¬æ–‡æ¡£ä¸­çš„ç¤ºä¾‹ - åŠ¨æ‰‹ç»ƒä¹ 
4. åœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨ - æŒç»­æ”¹è¿›

### å…³é”®æ–‡ä»¶è¯´æ˜
- `jest.config.js` - æµ‹è¯•æ¡†æ¶é…ç½®
- `tsconfig.json` - TypeScript ä¸¥æ ¼æ¨¡å¼é…ç½®
- `package.json` - TDD ç›¸å…³è„šæœ¬å‘½ä»¤
- `src/*.test.ts` - æµ‹è¯•æ–‡ä»¶ (TDD çš„æ ¸å¿ƒ)

**å¼€å§‹ä½ çš„ Claude TDD ä¹‹æ—…å§ï¼è®°ä½ï¼šæµ‹è¯•å…ˆè¡Œï¼Œè´¨é‡è‡³ä¸Šï¼** ğŸš€