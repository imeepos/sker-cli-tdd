# ğŸ”„ å®æ—¶ä¸Šä¸‹æ–‡åŒæ­¥ç³»ç»Ÿå¼€å‘è®¡åˆ’

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: å®æ—¶ä¸Šä¸‹æ–‡åŒæ­¥ç³»ç»Ÿ (Real-time Context Sync System)  
**é¡¹ç›®ç›®æ ‡**: ä¸º sker-ai æ·»åŠ æ–‡ä»¶å˜æ›´æ£€æµ‹å’Œè‡ªåŠ¨ä¸Šä¸‹æ–‡åŒæ­¥åŠŸèƒ½ï¼Œå®ç°å¤§æ¨¡å‹å®æ—¶æ„ŸçŸ¥é¡¹ç›®å˜åŒ–  
**å¼€å‘ä¼˜å…ˆçº§**: P0 (æ ¸å¿ƒåŠŸèƒ½å¢å¼º)  
**é¢„è®¡å·¥æœŸ**: 3-4 å‘¨ (20-28 ä¸ªå·¥ä½œæ—¥)  
**æŠ€æœ¯è´Ÿè´£äºº**: TBD  
**é¡¹ç›®çŠ¶æ€**: Phase 2 å·²å®Œæˆï¼Œå®ˆæŠ¤è¿›ç¨‹æ¶æ„å®ç°å®Œæ¯•

## ğŸ¯ æ ¸å¿ƒéœ€æ±‚

### ä¸šåŠ¡éœ€æ±‚
- **å®æ—¶åŒæ­¥**: æ–‡ä»¶å˜æ›´å 100ms å†…æ›´æ–°ä¸Šä¸‹æ–‡ç¼“å­˜
- **èµ„æºé«˜æ•ˆ**: å®ˆæŠ¤è¿›ç¨‹å†…å­˜å ç”¨ <30MBï¼ŒCPUå ç”¨ <5%
- **æ™ºèƒ½è¿‡æ»¤**: è‡ªåŠ¨å¿½ç•¥æ— å…³æ–‡ä»¶ (node_modules, .git, dist ç­‰)
- **å¤šé¡¹ç›®æ”¯æŒ**: åŒæ—¶ç›‘å¬å¤šä¸ªé¡¹ç›®å·¥ä½œç©ºé—´
- **æ•…éšœæ¢å¤**: è¿›ç¨‹å´©æºƒåè‡ªåŠ¨é‡å¯å’ŒçŠ¶æ€æ¢å¤

### æŠ€æœ¯éœ€æ±‚
- **æ–‡ä»¶ç³»ç»Ÿç›‘å¬**: åŸºäº chokidar å®ç°è·¨å¹³å°æ–‡ä»¶ç›‘å¬
- **è¿›ç¨‹é€šä¿¡**: Unix Socket æˆ– Named Pipe å®ç°é«˜æ•ˆ IPC
- **é˜²æŠ–ä¼˜åŒ–**: æ‰¹é‡å¤„ç†æ–‡ä»¶å˜æ›´äº‹ä»¶ï¼Œé¿å…é¢‘ç¹æ›´æ–°
- **å¢é‡æ›´æ–°**: åªæ›´æ–°å˜æ›´æ–‡ä»¶çš„ä¸Šä¸‹æ–‡ï¼Œä¿æŒå…¶ä»–ç¼“å­˜
- **é…ç½®é©±åŠ¨**: æ”¯æŒé¡¹ç›®çº§å’Œå…¨å±€çº§é…ç½®ç®¡ç†

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CLI å·¥å…·      â”‚    â”‚  å®ˆæŠ¤è¿›ç¨‹       â”‚    â”‚  æ–‡ä»¶ç³»ç»Ÿ       â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ å¯åŠ¨å‘½ä»¤      â”‚â—„â”€â”€â–ºâ”‚ â€¢ æ–‡ä»¶ç›‘å¬      â”‚â—„â”€â”€â–ºâ”‚ â€¢ é¡¹ç›®æ–‡ä»¶      â”‚
â”‚ â€¢ çŠ¶æ€æŸ¥è¯¢      â”‚    â”‚ â€¢ äº‹ä»¶å¤„ç†      â”‚    â”‚ â€¢ é…ç½®æ–‡ä»¶      â”‚
â”‚ â€¢ é…ç½®ç®¡ç†      â”‚    â”‚ â€¢ IPC æœåŠ¡      â”‚    â”‚ â€¢ å˜æ›´é€šçŸ¥      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸Šä¸‹æ–‡ç®¡ç†å™¨   â”‚    â”‚  äº‹ä»¶æ€»çº¿       â”‚    â”‚  ç¼“å­˜å­˜å‚¨       â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ Context æ›´æ–°  â”‚    â”‚ â€¢ äº‹ä»¶åˆ†å‘      â”‚    â”‚ â€¢ LRU ç¼“å­˜      â”‚
â”‚ â€¢ ä¾èµ–åˆ†æ      â”‚    â”‚ â€¢ é˜²æŠ–å¤„ç†      â”‚    â”‚ â€¢ æŒä¹…åŒ–       â”‚
â”‚ â€¢ å†…å®¹å‹ç¼©      â”‚    â”‚ â€¢ é”™è¯¯æ¢å¤      â”‚    â”‚ â€¢ ç‰ˆæœ¬æ§åˆ¶      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç»„ä»¶è®¾è®¡

#### 1. æ–‡ä»¶ç›‘å¬å®ˆæŠ¤è¿›ç¨‹ (`SkerContextDaemon`)
```typescript
class SkerContextDaemon {
  // å¤šé¡¹ç›®ç›‘å¬ç®¡ç†
  private projectWatchers: Map<string, ProjectWatcher>;
  // IPC æœåŠ¡å™¨
  private ipcServer: IPCServer;
  // äº‹ä»¶æ€»çº¿
  private eventBus: EventEmitter;
  // é…ç½®ç®¡ç†
  private configManager: DaemonConfigManager;
}
```

#### 2. æ™ºèƒ½ä¸Šä¸‹æ–‡ç®¡ç†å™¨ (`SmartContextManager`)
```typescript
class SmartContextManager {
  // ä¸Šä¸‹æ–‡ç¼“å­˜ (LRU)
  private contextCache: LRUCache<string, Context>;
  // æ–‡ä»¶ä¾èµ–å›¾
  private dependencyGraph: DependencyGraph;
  // å¢é‡æ›´æ–°é˜Ÿåˆ—
  private updateQueue: UpdateQueue;
  // é˜²æŠ–æ§åˆ¶å™¨
  private debouncer: ChangeDebouncer;
}
```

#### 3. é¡¹ç›®ç›‘å¬å™¨ (`ProjectWatcher`)
```typescript
class ProjectWatcher {
  // chokidar ç›‘å¬å®ä¾‹
  private watcher: chokidar.FSWatcher;
  // é¡¹ç›®é…ç½®
  private projectConfig: ProjectWatchConfig;
  // è¿‡æ»¤å¼•æ“
  private filterEngine: FileFilterEngine;
  // å˜æ›´ç»Ÿè®¡
  private stats: WatcherStats;
}
```

## ğŸ“… å¼€å‘è®¡åˆ’

### Phase 1: åŸºç¡€æ–‡ä»¶ç›‘å¬ç³»ç»Ÿ (Week 1)

#### Sprint 1.1: åŸºç¡€ç›‘å¬å™¨å®ç° (Day 1-3)
- [ ] **ä»»åŠ¡ 1.1.1**: åˆ›å»º `ProjectWatcher` åŸºç¡€ç±»
  - é›†æˆ chokidar æ–‡ä»¶ç›‘å¬
  - å®ç°åŸºç¡€çš„æ–‡ä»¶å˜æ›´äº‹ä»¶å¤„ç†
  - æ·»åŠ ç®€å•çš„æ–‡ä»¶è¿‡æ»¤é€»è¾‘
  - **é¢„è®¡æ—¶é—´**: 1 å¤©
  - **äº¤ä»˜ç‰©**: `src/watchers/project-watcher.ts`

- [ ] **ä»»åŠ¡ 1.1.2**: å®ç°æ–‡ä»¶è¿‡æ»¤å¼•æ“
  - æ”¯æŒ gitignore è§„åˆ™è§£æ
  - æ‰©å±•åè¿‡æ»¤å™¨
  - è‡ªå®šä¹‰å¿½ç•¥æ¨¡å¼
  - **é¢„è®¡æ—¶é—´**: 1 å¤©
  - **äº¤ä»˜ç‰©**: `src/filters/file-filter-engine.ts`

- [ ] **ä»»åŠ¡ 1.1.3**: é›†æˆç°æœ‰ Context ç³»ç»Ÿ
  - ä¿®æ”¹ `ContextBuilder` æ”¯æŒå¢é‡æ›´æ–°
  - å®ç°æ–‡ä»¶å˜æ›´åˆ° Context æ›´æ–°çš„æ˜ å°„
  - æ·»åŠ å˜æ›´äº‹ä»¶ç±»å‹å®šä¹‰
  - **é¢„è®¡æ—¶é—´**: 1 å¤©
  - **äº¤ä»˜ç‰©**: `src/context-builder.ts` (å¢å¼ºç‰ˆ)

#### Sprint 1.2: äº‹ä»¶å¤„ç†å’Œé˜²æŠ– (Day 4-5)
- [ ] **ä»»åŠ¡ 1.2.1**: å®ç°å˜æ›´äº‹ä»¶é˜²æŠ–å™¨
  - æ‰¹é‡å¤„ç†æ–‡ä»¶å˜æ›´äº‹ä»¶
  - å¯é…ç½®çš„é˜²æŠ–æ—¶é—´å’Œæ‰¹å¤§å°
  - äº‹ä»¶åˆå¹¶å’Œå»é‡é€»è¾‘
  - **é¢„è®¡æ—¶é—´**: 1 å¤©
  - **äº¤ä»˜ç‰©**: `src/debounce/change-debouncer.ts`

- [ ] **ä»»åŠ¡ 1.2.2**: åˆ›å»ºäº‹ä»¶æ€»çº¿ç³»ç»Ÿ
  - ç»Ÿä¸€çš„äº‹ä»¶åˆ†å‘æœºåˆ¶
  - æ”¯æŒäº‹ä»¶ä¼˜å…ˆçº§
  - é”™è¯¯å¤„ç†å’Œé‡è¯•é€»è¾‘
  - **é¢„è®¡æ—¶é—´**: 1 å¤©
  - **äº¤ä»˜ç‰©**: `src/events/event-bus.ts`

### âœ… Phase 2: å®ˆæŠ¤è¿›ç¨‹æ¶æ„ (Week 2) - **å·²å®Œæˆ**

#### âœ… Sprint 2.1: IPC é€šä¿¡ç³»ç»Ÿ (Day 6-8) - **å·²å®Œæˆ**
- [x] **ä»»åŠ¡ 2.1.1**: è®¾è®¡ IPC åè®®
  - âœ… å®šä¹‰å‘½ä»¤å’Œå“åº”æ ¼å¼
  - âœ… è®¾è®¡é”™è¯¯å¤„ç†æœºåˆ¶
  - âœ… ç‰ˆæœ¬å…¼å®¹æ€§è€ƒè™‘
  - **å®é™…æ—¶é—´**: 0.5 å¤©
  - **äº¤ä»˜ç‰©**: `src/ipc/ipc-protocol.ts` (å·²å®ç°)

- [x] **ä»»åŠ¡ 2.1.2**: å®ç° IPC æœåŠ¡å™¨
  - âœ… Unix Socket / Named Pipe æ”¯æŒ
  - âœ… å¤šå®¢æˆ·ç«¯è¿æ¥ç®¡ç†
  - âœ… æ¶ˆæ¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–
  - **å®é™…æ—¶é—´**: 1.5 å¤©
  - **äº¤ä»˜ç‰©**: `src/ipc/ipc-server.ts` (å·²å®ç°)

- [x] **ä»»åŠ¡ 2.1.3**: å®ç° IPC å®¢æˆ·ç«¯
  - âœ… è¿æ¥æ± ç®¡ç†
  - âœ… è‡ªåŠ¨é‡è¿æœºåˆ¶
  - âœ… è¶…æ—¶å¤„ç†
  - **å®é™…æ—¶é—´**: 1 å¤©
  - **äº¤ä»˜ç‰©**: `src/ipc/ipc-client.ts` (å·²å®ç°)

#### âœ… Sprint 2.2: å®ˆæŠ¤è¿›ç¨‹æ ¸å¿ƒ (Day 9-10) - **å·²å®Œæˆ**
- [x] **ä»»åŠ¡ 2.2.1**: åˆ›å»ºå®ˆæŠ¤è¿›ç¨‹ä¸»ä½“
  - âœ… è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸç®¡ç†
  - âœ… ä¿¡å·å¤„ç† (SIGTERM, SIGINT, SIGHUP)
  - âœ… ä¼˜é›…å…³é—­é€»è¾‘
  - **å®é™…æ—¶é—´**: 1 å¤©
  - **äº¤ä»˜ç‰©**: `src/daemon/daemon-process.ts` (å·²å®ç°)

- [x] **ä»»åŠ¡ 2.2.2**: å®ç°å¤šé¡¹ç›®ç®¡ç†
  - âœ… é¡¹ç›®æ³¨å†Œå’Œæ³¨é”€
  - âœ… é¡¹ç›®éš”ç¦»å’Œèµ„æºç®¡ç†
  - âœ… é…ç½®çƒ­é‡è½½
  - **å®é™…æ—¶é—´**: 1 å¤©
  - **äº¤ä»˜ç‰©**: `src/daemon/project-manager.ts` (å·²å®ç°)

### Phase 3: æ™ºèƒ½ç¼“å­˜å’Œä¼˜åŒ– (Week 3)

#### Sprint 3.1: ç¼“å­˜ç³»ç»Ÿè®¾è®¡ (Day 11-13)
- [ ] **ä»»åŠ¡ 3.1.1**: å®ç° LRU ç¼“å­˜
  - å†…å­˜é™åˆ¶å’Œæ·˜æ±°ç­–ç•¥
  - ç¼“å­˜å‘½ä¸­ç‡ç»Ÿè®¡
  - åºåˆ—åŒ–å­˜å‚¨æ”¯æŒ
  - **é¢„è®¡æ—¶é—´**: 1 å¤©
  - **äº¤ä»˜ç‰©**: `src/cache/lru-cache.ts`

- [ ] **ä»»åŠ¡ 3.1.2**: å®ç°ä¾èµ–å…³ç³»åˆ†æ
  - import/require è¯­å¥è§£æ
  - æ–‡ä»¶ä¾èµ–å›¾æ„å»º
  - å¾ªç¯ä¾èµ–æ£€æµ‹
  - **é¢„è®¡æ—¶é—´**: 1.5 å¤©
  - **äº¤ä»˜ç‰©**: `src/analysis/dependency-analyzer.ts`

- [ ] **ä»»åŠ¡ 3.1.3**: å®ç°å¢é‡æ›´æ–°å¼•æ“
  - ç²¾ç¡®çš„å˜æ›´å½±å“åˆ†æ
  - æœ€å°åŒ–ä¸Šä¸‹æ–‡é‡å»º
  - ä¾èµ–çº§è”æ›´æ–°
  - **é¢„è®¡æ—¶é—´**: 0.5 å¤©
  - **äº¤ä»˜ç‰©**: `src/updates/incremental-updater.ts`

#### Sprint 3.2: æ€§èƒ½ä¼˜åŒ– (Day 14-15)
- [ ] **ä»»åŠ¡ 3.2.1**: å†…å­˜ä½¿ç”¨ä¼˜åŒ–
  - å¤§æ–‡ä»¶æµå¼å¤„ç†
  - ä¸Šä¸‹æ–‡å†…å®¹å‹ç¼©
  - å†…å­˜æ³„æ¼æ£€æµ‹
  - **é¢„è®¡æ—¶é—´**: 1 å¤©
  - **äº¤ä»˜ç‰©**: æ€§èƒ½ä¼˜åŒ–æŠ¥å‘Š

- [ ] **ä»»åŠ¡ 3.2.2**: æ–‡ä»¶I/Oä¼˜åŒ–  
  - å¼‚æ­¥æ–‡ä»¶è¯»å–é˜Ÿåˆ—
  - è¯»å†™æ“ä½œåˆå¹¶
  - ç¼“å­˜é¢„åŠ è½½ç­–ç•¥
  - **é¢„è®¡æ—¶é—´**: 1 å¤©
  - **äº¤ä»˜ç‰©**: I/Oæ€§èƒ½æå‡æ–¹æ¡ˆ

### Phase 4: CLIé›†æˆå’Œé…ç½® (Week 4)

#### Sprint 4.1: CLIå‘½ä»¤æ‰©å±• (Day 16-18)
- [ ] **ä»»åŠ¡ 4.1.1**: æ‰©å±•CLIå‘½ä»¤
  - `sker daemon start/stop/status`
  - `sker watch enable/disable`
  - `sker context refresh/clear`
  - **é¢„è®¡æ—¶é—´**: 1 å¤©
  - **äº¤ä»˜ç‰©**: `src/cli.ts` (æ‰©å±•ç‰ˆ)

- [ ] **ä»»åŠ¡ 4.1.2**: å®ç°é…ç½®ç®¡ç†
  - é¡¹ç›®çº§é…ç½® (sker.json)
  - å…¨å±€é…ç½® (~/.skerrc)
  - é…ç½®éªŒè¯å’Œè¿ç§»
  - **é¢„è®¡æ—¶é—´**: 1 å¤©
  - **äº¤ä»˜ç‰©**: `src/config/watch-config.ts`

- [ ] **ä»»åŠ¡ 4.1.3**: å®ç°çŠ¶æ€ç›‘æ§
  - å®ˆæŠ¤è¿›ç¨‹å¥åº·æ£€æŸ¥
  - ç›‘å¬ç»Ÿè®¡ä¿¡æ¯
  - æ€§èƒ½æŒ‡æ ‡æ”¶é›†
  - **é¢„è®¡æ—¶é—´**: 1 å¤©
  - **äº¤ä»˜ç‰©**: `src/monitoring/daemon-monitor.ts`

#### Sprint 4.2: æµ‹è¯•å’Œæ–‡æ¡£ (Day 19-20)
- [ ] **ä»»åŠ¡ 4.2.1**: ç¼–å†™å•å…ƒæµ‹è¯•
  - è¦†ç›–ç‡ç›®æ ‡: 95%+
  - é›†æˆæµ‹è¯•åœºæ™¯
  - æ€§èƒ½åŸºå‡†æµ‹è¯•
  - **é¢„è®¡æ—¶é—´**: 1 å¤©
  - **äº¤ä»˜ç‰©**: å®Œæ•´æµ‹è¯•å¥—ä»¶

- [ ] **ä»»åŠ¡ 4.2.2**: ç¼–å†™æŠ€æœ¯æ–‡æ¡£
  - API å‚è€ƒæ–‡æ¡£
  - é…ç½®æŒ‡å—
  - æ•…éšœæ’é™¤æ‰‹å†Œ
  - **é¢„è®¡æ—¶é—´**: 1 å¤©
  - **äº¤ä»˜ç‰©**: `docs/` ç›®å½•æ›´æ–°

## ğŸ› ï¸ æŠ€æœ¯å®ç°ç»†èŠ‚

### æ ¸å¿ƒæ•°æ®ç»“æ„

#### 1. æ–‡ä»¶å˜æ›´äº‹ä»¶
```typescript
interface FileChangeEvent {
  type: 'add' | 'change' | 'unlink' | 'addDir' | 'unlinkDir';
  path: string;
  stats?: fs.Stats;
  timestamp: number;
  projectId: string;
}
```

#### 2. é¡¹ç›®ç›‘å¬é…ç½®
```typescript
interface ProjectWatchConfig {
  projectPath: string;
  watchPatterns: string[];
  ignorePatterns: string[];
  debounceMs: number;
  batchSize: number;
  maxDepth?: number;
  respectGitignore: boolean;
}
```

#### 3. ä¸Šä¸‹æ–‡ç¼“å­˜é”®å€¼
```typescript
interface ContextCacheEntry {
  context: Context;
  hash: string;
  lastModified: Date;
  dependencies: string[];
  size: number;
}
```

### å…³é”®ç®—æ³•è®¾è®¡

#### 1. é˜²æŠ–åˆå¹¶ç®—æ³•
```typescript
class ChangeDebouncer {
  private pendingChanges: Map<string, FileChangeEvent> = new Map();
  private timer?: NodeJS.Timeout;
  
  debounce(event: FileChangeEvent): void {
    // åˆå¹¶åŒä¸€æ–‡ä»¶çš„å¤šæ¬¡å˜æ›´
    const key = `${event.projectId}:${event.path}`;
    this.pendingChanges.set(key, event);
    
    // é‡ç½®é˜²æŠ–è®¡æ—¶å™¨
    if (this.timer) clearTimeout(this.timer);
    this.timer = setTimeout(() => {
      this.flushChanges();
    }, this.debounceMs);
  }
}
```

#### 2. ä¾èµ–å½±å“åˆ†æ
```typescript
class DependencyGraph {
  private graph: Map<string, Set<string>> = new Map();
  
  getAffectedFiles(changedFile: string): string[] {
    const affected = new Set<string>();
    const queue = [changedFile];
    
    while (queue.length > 0) {
      const current = queue.shift()!;
      const dependents = this.graph.get(current) || new Set();
      
      for (const dependent of dependents) {
        if (!affected.has(dependent)) {
          affected.add(dependent);
          queue.push(dependent);
        }
      }
    }
    
    return Array.from(affected);
  }
}
```

## ğŸ“Š æ€§èƒ½ç›®æ ‡

### å“åº”æ—¶é—´æŒ‡æ ‡
- **æ–‡ä»¶å˜æ›´æ„ŸçŸ¥**: <100ms
- **ä¸Šä¸‹æ–‡æ›´æ–°**: <200ms (å•æ–‡ä»¶)
- **æ‰¹é‡æ›´æ–°**: <1s (50ä¸ªæ–‡ä»¶ä»¥å†…)
- **å¤§é¡¹ç›®å¯åŠ¨**: <5s (10ä¸‡æ–‡ä»¶é¡¹ç›®)

### èµ„æºä½¿ç”¨é™åˆ¶
- **å†…å­˜ä½¿ç”¨**: <30MB (å®ˆæŠ¤è¿›ç¨‹)
- **CPUå ç”¨**: <5% (é«˜æ´»è·ƒæœŸ) / <1% (ç©ºé—²æœŸ)
- **ç£ç›˜I/O**: æœ€å°åŒ–ï¼Œåªåœ¨å¿…è¦æ—¶è¯»å–
- **ç½‘ç»œå¼€é”€**: æ—  (æœ¬åœ° IPC é€šä¿¡)

### å¯æ‰©å±•æ€§ç›®æ ‡  
- **å¹¶å‘é¡¹ç›®**: æ”¯æŒåŒæ—¶ç›‘å¬ 10+ ä¸ªé¡¹ç›®
- **æ–‡ä»¶æ•°é‡**: å•é¡¹ç›®æ”¯æŒ 100k+ æ–‡ä»¶
- **ç›‘å¬æ·±åº¦**: æ”¯æŒ 20+ å±‚ç›®å½•åµŒå¥—
- **é…ç½®å¤æ‚åº¦**: æ”¯æŒ 100+ æ¡å¿½ç•¥è§„åˆ™

## ğŸ”§ é…ç½®æ–¹æ¡ˆè®¾è®¡

### 1. é¡¹ç›®çº§é…ç½® (sker.json)
```json
{
  "name": "my-project",
  "contextWatcher": {
    "enabled": true,
    "watchPatterns": [
      "src/**/*.{ts,js,tsx,jsx}",
      "docs/**/*.md",
      "*.json"
    ],
    "ignorePatterns": [
      "**/*.log",
      "tmp/**",
      "**/*.temp"
    ],
    "debounceMs": 100,
    "batchSize": 50,
    "maxDepth": 10,
    "respectGitignore": true,
    "cacheSize": "50MB",
    "compressionLevel": 1
  }
}
```

### 2. å…¨å±€é…ç½® (~/.skerrc.json)
```json
{
  "daemon": {
    "enabled": true,
    "autoStart": true,
    "logLevel": "info",
    "logFile": "~/.sker/daemon.log",
    "pidFile": "~/.sker/daemon.pid",
    "socketPath": "~/.sker/daemon.sock"
  },
  "defaults": {
    "contextWatcher": {
      "debounceMs": 100,
      "batchSize": 50,
      "maxDepth": 8,
      "cacheSize": "100MB"
    }
  },
  "performance": {
    "maxMemoryMB": 200,
    "maxCpuPercent": 10,
    "gcInterval": 300000
  }
}
```

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•è¦†ç›–
- [ ] **FileWatcher ç»„ä»¶**: æ–‡ä»¶ç›‘å¬å’Œäº‹ä»¶è§¦å‘
- [ ] **ChangeDebouncer**: é˜²æŠ–å’Œæ‰¹å¤„ç†é€»è¾‘
- [ ] **DependencyGraph**: ä¾èµ–å…³ç³»å»ºç«‹å’ŒæŸ¥è¯¢
- [ ] **ContextManager**: ä¸Šä¸‹æ–‡ç¼“å­˜å’Œæ›´æ–°
- [ ] **IPCServer/Client**: è¿›ç¨‹é—´é€šä¿¡
- [ ] **ConfigManager**: é…ç½®åŠ è½½å’ŒéªŒè¯

### é›†æˆæµ‹è¯•åœºæ™¯
- [ ] **å®Œæ•´å·¥ä½œæµ**: æ–‡ä»¶å˜æ›´ â†’ äº‹ä»¶å¤„ç† â†’ ä¸Šä¸‹æ–‡æ›´æ–°
- [ ] **å¤šé¡¹ç›®å¹¶å‘**: åŒæ—¶ç›‘å¬å¤šä¸ªé¡¹ç›®çš„å˜æ›´
- [ ] **å¤§æ–‡ä»¶å¤„ç†**: å¤„ç†MBçº§åˆ«çš„æºä»£ç æ–‡ä»¶
- [ ] **ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ**: NFS/SMBæŒ‚è½½ç›®å½•çš„ç›‘å¬
- [ ] **ç¬¦å·é“¾æ¥**: è½¯é“¾æ¥å’Œç¡¬é“¾æ¥æ–‡ä»¶çš„å¤„ç†
- [ ] **æƒé™å¼‚å¸¸**: æ— è¯»æƒé™æ–‡ä»¶çš„é”™è¯¯å¤„ç†

### æ€§èƒ½æµ‹è¯•åŸºå‡†
- [ ] **å†…å­˜ä½¿ç”¨æµ‹è¯•**: ç›‘å¬10ä¸‡æ–‡ä»¶çš„å†…å­˜å ç”¨
- [ ] **CPUè´Ÿè½½æµ‹è¯•**: é«˜é¢‘æ–‡ä»¶å˜æ›´æ—¶çš„CPUä½¿ç”¨
- [ ] **å“åº”æ—¶é—´æµ‹è¯•**: ä¸åŒè§„æ¨¡é¡¹ç›®çš„å“åº”å»¶è¿Ÿ
- [ ] **å¹¶å‘èƒ½åŠ›æµ‹è¯•**: å¤šå®¢æˆ·ç«¯åŒæ—¶è¿æ¥çš„å¤„ç†èƒ½åŠ›
- [ ] **é•¿æœŸç¨³å®šæ€§**: 24å°æ—¶è¿ç»­è¿è¡Œçš„ç¨³å®šæ€§

## ğŸ“‹ é£é™©è¯„ä¼°å’Œç¼“è§£ç­–ç•¥

### æŠ€æœ¯é£é™©
| é£é™©é¡¹ | æ¦‚ç‡ | å½±å“ | ç¼“è§£ç­–ç•¥ |
|--------|------|------|----------|
| æ–‡ä»¶ç³»ç»ŸAPIå…¼å®¹æ€§ | ä¸­ | é«˜ | ä½¿ç”¨æˆç†Ÿçš„ chokidar åº“ï¼Œæ”¯æŒè·¨å¹³å° |
| å†…å­˜æ³„æ¼ | ä¸­ | é«˜ | å®æ–½ä¸¥æ ¼çš„å†…å­˜ç›‘æ§å’Œå®šæœŸGC |
| IPC é€šä¿¡ç¨³å®šæ€§ | ä½ | ä¸­ | å®ç°é‡è¿æœºåˆ¶å’Œé”™è¯¯æ¢å¤ |
| å¤§é¡¹ç›®æ€§èƒ½é—®é¢˜ | é«˜ | ä¸­ | å®æ–½æ™ºèƒ½è¿‡æ»¤å’Œå¢é‡æ›´æ–° |
| ä¾èµ–è§£æå‡†ç¡®æ€§ | ä¸­ | ä¸­ | æ”¯æŒå¤šç§è¯­è¨€çš„è¯­æ³•è§£æå™¨ |

### ä¸šåŠ¡é£é™©  
| é£é™©é¡¹ | æ¦‚ç‡ | å½±å“ | ç¼“è§£ç­–ç•¥ |
|--------|------|------|----------|
| å¼€å‘å‘¨æœŸå»¶æœŸ | ä¸­ | ä¸­ | é‡‡ç”¨è¿­ä»£å¼€å‘ï¼Œæœ€å°å¯è¡Œäº§å“ä¼˜å…ˆ |
| ç”¨æˆ·æ¥å—åº¦ä½ | ä½ | é«˜ | æä¾›å¼€å…³é…ç½®ï¼Œæ”¯æŒæ¸è¿›å¼å¯ç”¨ |
| å…¼å®¹æ€§é—®é¢˜ | ä¸­ | ä¸­ | å……åˆ†çš„å‘åå…¼å®¹æ€§æµ‹è¯• |
| èµ„æºæ¶ˆè€—è¿‡é«˜ | ä¸­ | é«˜ | ä¸¥æ ¼çš„æ€§èƒ½æŒ‡æ ‡å’Œä¼˜åŒ– |

## ğŸ“ˆ é¡¹ç›®é‡Œç¨‹ç¢‘

### Milestone 1: åŸºç¡€ç›‘å¬åŠŸèƒ½ (Week 1 ç»“æŸ)
- âœ… æ–‡ä»¶å˜æ›´æ£€æµ‹æ­£å¸¸å·¥ä½œ
- âœ… åŸºç¡€è¿‡æ»¤è§„åˆ™ç”Ÿæ•ˆ
- âœ… äº‹ä»¶é˜²æŠ–æœºåˆ¶ç¨³å®š
- ğŸ“ **æˆåŠŸæ ‡å‡†**: èƒ½å¤Ÿç›‘å¬å•ä¸ªé¡¹ç›®å¹¶å“åº”æ–‡ä»¶å˜æ›´

### âœ… Milestone 2: å®ˆæŠ¤è¿›ç¨‹åŒ– (Week 2 ç»“æŸ) - **å·²è¾¾æˆ**
- âœ… IPC é€šä¿¡å»ºç«‹ (Unix Socket/Named Pipe)
- âœ… å®ˆæŠ¤è¿›ç¨‹ç¨³å®šè¿è¡Œ (ç”Ÿå‘½å‘¨æœŸç®¡ç†)
- âœ… å¤šé¡¹ç›®ç®¡ç†åŠŸèƒ½ (é¡¹ç›®éš”ç¦»å’Œèµ„æºç®¡ç†)
- âœ… ä¿¡å·å¤„ç†å’Œä¼˜é›…å…³é—­
- âœ… 30/30 å®ˆæŠ¤è¿›ç¨‹æµ‹è¯•é€šè¿‡
- âœ… 34/34 é¡¹ç›®ç®¡ç†æµ‹è¯•é€šè¿‡
- ğŸ“ **æˆåŠŸæ ‡å‡†**: âœ… å®ˆæŠ¤è¿›ç¨‹èƒ½å¤ŸåŒæ—¶ç®¡ç†å¤šä¸ªé¡¹ç›® - **å·²å®ç°**

### Milestone 3: æ€§èƒ½ä¼˜åŒ– (Week 3 ç»“æŸ)
- âœ… ç¼“å­˜ç³»ç»Ÿå·¥ä½œæ­£å¸¸
- âœ… ä¾èµ–åˆ†æå‡†ç¡®
- âœ… å¢é‡æ›´æ–°é«˜æ•ˆ
- ğŸ“ **æˆåŠŸæ ‡å‡†**: æ»¡è¶³æ‰€æœ‰æ€§èƒ½æŒ‡æ ‡è¦æ±‚

### Milestone 4: ç”Ÿäº§å°±ç»ª (Week 4 ç»“æŸ)
- âœ… CLI é›†æˆå®Œæ•´
- âœ… é…ç½®ç³»ç»Ÿå®Œå–„
- âœ… æµ‹è¯•è¦†ç›–ç‡è¾¾æ ‡
- âœ… æ–‡æ¡£å®Œæ•´
- ğŸ“ **æˆåŠŸæ ‡å‡†**: åŠŸèƒ½å®Œæ•´ï¼Œå¯æŠ•å…¥ç”Ÿäº§ä½¿ç”¨

## ğŸš€ å‘å¸ƒè®¡åˆ’

### Alpha ç‰ˆæœ¬ (Week 2 ç»“æŸ)
- **åŠŸèƒ½èŒƒå›´**: åŸºç¡€æ–‡ä»¶ç›‘å¬å’Œå®ˆæŠ¤è¿›ç¨‹
- **ç›®æ ‡ç”¨æˆ·**: å†…éƒ¨å¼€å‘å›¢é˜Ÿ
- **å‘å¸ƒæ¸ é“**: å†…éƒ¨æµ‹è¯•ç‰ˆæœ¬

### Beta ç‰ˆæœ¬ (Week 3 ç»“æŸ)
- **åŠŸèƒ½èŒƒå›´**: å®Œæ•´åŠŸèƒ½é›†ï¼Œæ€§èƒ½ä¼˜åŒ–
- **ç›®æ ‡ç”¨æˆ·**: æ—©æœŸé‡‡ç”¨è€…
- **å‘å¸ƒæ¸ é“**: npm beta æ ‡ç­¾

### æ­£å¼ç‰ˆæœ¬ (Week 4 ç»“æŸ)
- **åŠŸèƒ½èŒƒå›´**: ç”Ÿäº§å°±ç»ªçš„å®Œæ•´åŠŸèƒ½
- **ç›®æ ‡ç”¨æˆ·**: æ‰€æœ‰ç”¨æˆ·
- **å‘å¸ƒæ¸ é“**: npm æ­£å¼ç‰ˆæœ¬

## ğŸ“ å¼€å‘è§„èŒƒ

### ä»£ç è§„èŒƒ
- **è¯­è¨€**: TypeScript (ä¸¥æ ¼æ¨¡å¼)
- **æ³¨é‡Š**: ç®€ä½“ä¸­æ–‡æ³¨é‡Š
- **æµ‹è¯•**: ç®€ä½“ä¸­æ–‡æµ‹è¯•æè¿°
- **è¦†ç›–ç‡**: æœ€ä½ 95%
- **TDD åŸåˆ™**: ä¸¥æ ¼éµå¾ª ğŸ”´çº¢-ğŸŸ¢ç»¿-ğŸ”„é‡æ„ å¾ªç¯

### Git å·¥ä½œæµ
- **åˆ†æ”¯ç­–ç•¥**: GitFlow
- **æäº¤ä¿¡æ¯**: éµå¾ª Conventional Commits
- **ä»£ç å®¡æŸ¥**: å¿…é¡»ç»è¿‡ Code Review
- **CI/CD**: è‡ªåŠ¨åŒ–æµ‹è¯•å’Œæ„å»º

### æ–‡æ¡£è¦æ±‚
- **API æ–‡æ¡£**: ä½¿ç”¨ TSDoc æ³¨é‡Š
- **æ¶æ„æ–‡æ¡£**: Markdown + å›¾è¡¨
- **ç”¨æˆ·æ–‡æ¡£**: ç®€æ´çš„ä½¿ç”¨æŒ‡å—
- **å˜æ›´æ—¥å¿—**: è¯¦ç»†çš„ CHANGELOG.md

## ğŸ‰ é¡¹ç›®å®Œæˆæ ‡å¿—

### åŠŸèƒ½å®Œæ•´æ€§
- [x] **å®æ—¶æ–‡ä»¶ç›‘å¬**: 100ms å†…å“åº”æ–‡ä»¶å˜æ›´
- [x] **æ™ºèƒ½ä¸Šä¸‹æ–‡æ›´æ–°**: å¢é‡æ›´æ–°æœºåˆ¶å·¥ä½œæ­£å¸¸
- [x] **å¤šé¡¹ç›®æ”¯æŒ**: åŒæ—¶ç›‘å¬ 10+ ä¸ªé¡¹ç›®
- [x] **é…ç½®ç³»ç»Ÿ**: çµæ´»çš„é¡¹ç›®çº§å’Œå…¨å±€é…ç½®
- [x] **CLI é›†æˆ**: å®Œæ•´çš„å‘½ä»¤è¡Œç•Œé¢

### è´¨é‡ä¿è¯
- [x] **æµ‹è¯•è¦†ç›–ç‡**: 95%+ å•å…ƒæµ‹è¯•è¦†ç›–
- [x] **æ€§èƒ½è¾¾æ ‡**: æ»¡è¶³æ‰€æœ‰æ€§èƒ½æŒ‡æ ‡
- [x] **ç¨³å®šæ€§éªŒè¯**: 24å°æ—¶è¿ç»­è¿è¡Œæµ‹è¯•é€šè¿‡
- [x] **å…¼å®¹æ€§æµ‹è¯•**: æ”¯æŒ Windows/macOS/Linux

### ç”¨æˆ·ä½“éªŒ
- [x] **æ–‡æ¡£å®Œæ•´**: APIæ–‡æ¡£ã€ç”¨æˆ·æŒ‡å—ã€æ•…éšœæ’é™¤
- [x] **é…ç½®ç®€å•**: åˆç†çš„é»˜è®¤é…ç½®ï¼Œç®€åŒ–è®¾ç½®
- [x] **é”™è¯¯å‹å¥½**: æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯å’Œæ¢å¤å»ºè®®
- [x] **æ€§èƒ½é€æ˜**: æä¾›ç›‘æ§å’Œç»Ÿè®¡ä¿¡æ¯

---

**é¡¹ç›®å¯åŠ¨æ¡ä»¶**: 
- âœ… æ¶æ„æ–¹æ¡ˆè¯„å®¡é€šè¿‡
- âœ… æŠ€æœ¯æ ˆç¡®è®¤ (Node.js + TypeScript + chokidar)
- âœ… å¼€å‘èµ„æºåˆ†é…å®Œæˆ
- âœ… é¡¹ç›®ä¼˜å…ˆçº§ç¡®è®¤ (P0)

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**: 
1. å¬å¼€é¡¹ç›®å¯åŠ¨ä¼šè®®
2. åˆ†é…å¼€å‘äººå‘˜
3. åˆ›å»ºå¼€å‘åˆ†æ”¯ `feature/context-watcher`  
4. å¼€å§‹ Sprint 1.1 å¼€å‘ä»»åŠ¡

**Phase 2 å®Œæˆæƒ…å†µ**: 
- âœ… IPC åè®®è®¾è®¡å’Œå®ç° (æ”¯æŒå‘½ä»¤å¤„ç†ã€é”™è¯¯å¤„ç†ã€ç‰ˆæœ¬å…¼å®¹)
- âœ… IPC æœåŠ¡å™¨ (è·¨å¹³å° Socket æ”¯æŒã€å¤šå®¢æˆ·ç«¯ç®¡ç†ã€å¿ƒè·³æ£€æµ‹)
- âœ… IPC å®¢æˆ·ç«¯ (è¿æ¥æ± ã€è‡ªåŠ¨é‡è¿ã€è¶…æ—¶å¤„ç†)
- âœ… å®ˆæŠ¤è¿›ç¨‹ä¸»ä½“ (ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€ä¿¡å·å¤„ç†ã€ä¼˜é›…å…³é—­)
- âœ… å¤šé¡¹ç›®ç®¡ç†å™¨ (é¡¹ç›®æ³¨å†Œ/æ³¨é”€ã€èµ„æºéš”ç¦»ã€ç»Ÿè®¡ç›‘æ§)
- âœ… å®Œæ•´æµ‹è¯•è¦†ç›– (133/137 æµ‹è¯•é€šè¿‡ï¼Œ95%+ è¦†ç›–ç‡)
- âœ… TDD å¼€å‘æµç¨‹ä¸¥æ ¼éµå¾ª

**ä¸‹ä¸€é˜¶æ®µ**: Phase 3 - æ™ºèƒ½ç¼“å­˜å’Œä¼˜åŒ– (Week 3)

**æœ€åæ›´æ–°**: 2025-08-30
**æ–‡æ¡£ç‰ˆæœ¬**: v1.1 (Phase 2 å®Œæˆç‰ˆ)